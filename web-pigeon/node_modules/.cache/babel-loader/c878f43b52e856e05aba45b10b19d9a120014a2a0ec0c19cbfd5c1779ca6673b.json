{"ast":null,"code":"import{useState,useMemo}from\"react\";import{useNavigate}from\"react-router-dom\";import axios from\"axios\";import checkmark from\"./checkmark.png\";import restrictmark from\"./restrictmark.png\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const CreateAccount=()=>{const[username,setUsername]=useState('');const[password,setPassword]=useState('');const[confirmedPassword,setConfirmedPassword]=useState('');const[error,setError]=useState('');const navigate=useNavigate();const isUsernameValid=useMemo(()=>{return /^[a-zA-Z0-9_]+$/.test(username);},[username]);const handleSubmit=async e=>{e.preventDefault();setError('');if(!isUsernameValid){setError(\"Username can only contain letters, numbers, and underscores\");return;}if(password!==confirmedPassword){setError(\"Passwords do not match...\");return;}try{const response=await axios.post('http://localhost:5000/create_account',{username,password});console.log(response.data);navigate('/login');}catch(error){var _error$response,_error$response$data;setError(((_error$response=error.response)===null||_error$response===void 0?void 0:(_error$response$data=_error$response.data)===null||_error$response$data===void 0?void 0:_error$response$data.error)||'An error occurred');}};const isFormValid=username!==''&&isUsernameValid&&password!==''&&password===confirmedPassword;return/*#__PURE__*/_jsxs(\"div\",{className:\"login\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Create An Account!\"}),error&&/*#__PURE__*/_jsx(\"h3\",{className:\"error\",children:error}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"label\",{children:\"Username:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"username\",required:true,value:username,onChange:e=>setUsername(e.target.value),pattern:\"^[a-zA-Z0-9_]+$\",title:\"Username can only contain letters, numbers, and underscores\"}),/*#__PURE__*/_jsx(\"label\",{children:\"Password:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",required:true,value:password,onChange:e=>setPassword(e.target.value)}),/*#__PURE__*/_jsx(\"label\",{children:\"Confirm Password:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",required:true,value:confirmedPassword,onChange:e=>setConfirmedPassword(e.target.value)}),/*#__PURE__*/_jsxs(\"button\",{children:[\"Create Account\",/*#__PURE__*/_jsx(\"img\",{src:isFormValid?checkmark:restrictmark,alt:\"status mark\"})]})]})]});};export default CreateAccount;","map":{"version":3,"names":["useState","useMemo","useNavigate","axios","checkmark","restrictmark","jsx","_jsx","jsxs","_jsxs","CreateAccount","username","setUsername","password","setPassword","confirmedPassword","setConfirmedPassword","error","setError","navigate","isUsernameValid","test","handleSubmit","e","preventDefault","response","post","console","log","data","_error$response","_error$response$data","isFormValid","className","children","onSubmit","type","required","value","onChange","target","pattern","title","src","alt"],"sources":["C:/Users/jense/Desktop/WebPigeon/web-pigeon/src/CreateAccount.js"],"sourcesContent":["import { useState, useMemo } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport checkmark from \"./checkmark.png\";\r\nimport restrictmark from \"./restrictmark.png\";\r\n\r\nconst CreateAccount = () => {\r\n\r\n    const[username, setUsername] = useState('');\r\n    const[password, setPassword] = useState('');\r\n    const[confirmedPassword, setConfirmedPassword] = useState('');\r\n    const[error, setError] = useState('');\r\n\r\n\r\n    const navigate = useNavigate();\r\n\r\n    const isUsernameValid = useMemo(() => {\r\n        return /^[a-zA-Z0-9_]+$/.test(username);\r\n    }, [username]);\r\n\r\n    const handleSubmit = async (e) => {\r\n        e.preventDefault();\r\n        setError('');\r\n\r\n        if (!isUsernameValid) {\r\n            setError(\"Username can only contain letters, numbers, and underscores\");\r\n            return;\r\n        }\r\n\r\n        if (password !== confirmedPassword) {\r\n            setError(\"Passwords do not match...\");\r\n            return;\r\n        }\r\n\r\n        try {\r\n            const response = await axios.post('http://localhost:5000/create_account', {\r\n                username,\r\n                password\r\n            });\r\n            console.log(response.data);\r\n\r\n            navigate('/login');\r\n        } catch (error) {\r\n            setError(error.response?.data?.error || 'An error occurred');\r\n        }\r\n    };\r\n\r\n    const isFormValid = username !== '' && \r\n                        isUsernameValid && \r\n                        password !== '' && \r\n                        password === confirmedPassword;\r\n\r\n    return (\r\n        <div className=\"login\">\r\n            <h2>Create An Account!</h2>\r\n            {error && <h3 className=\"error\">{error}</h3>}\r\n            <form onSubmit={handleSubmit}>\r\n            <label>Username:</label>\r\n                <input\r\n                    type = \"username\"\r\n                    required\r\n                    value = {username}\r\n                    onChange = {(e) => setUsername(e.target.value)}\r\n                    pattern = \"^[a-zA-Z0-9_]+$\"\r\n                    title = \"Username can only contain letters, numbers, and underscores\"\r\n                />\r\n            <label>Password:</label>\r\n                <input\r\n                    type = \"password\"\r\n                    required\r\n                    value = {password}\r\n                    onChange = {(e) => setPassword(e.target.value)}\r\n                />\r\n            <label>Confirm Password:</label>\r\n                <input\r\n                    type = \"password\"\r\n                    required\r\n                    value = {confirmedPassword}\r\n                    onChange = {(e) => setConfirmedPassword(e.target.value)}\r\n                />\r\n            <button>\r\n                Create Account\r\n                <img src={isFormValid ? checkmark : restrictmark} alt=\"status mark\" />\r\n                </button>    \r\n            </form>\r\n        </div>\r\n    );\r\n}\r\n \r\nexport default CreateAccount;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}